SET FOREIGN_KEY_CHECKS=0;

DELETE FROM tbl_function_controller;

LOCK TABLES `tbl_function_controller` WRITE;

INSERT  INTO `tbl_function_controller`(`function_controller_id`,`arquivo_controller_id`,`nome_function`,`funcao`) VALUES (1,1,'__construct','	public $data = array();\r\n\r\n	public function __construct()\r\n	{\r\n		parent::__construct();\r\n		if ($this->session->userdata(\'is_loginho\') === null)\r\n			redirect(\'/\');\r\n		$this->data[\'__CLASS__\'] = __CLASS__;\r\n		$this->getStatusPedido(False);\r\n		$this->getMenus();\r\n	}'),(2,1,'getMenus','	public function getMenus(){\r\n		$this->data[\'menus\'] = $this->Generico->getAllMenus();\r\n	}'),(3,1,'getStatusPedido','	public function getStatusPedido($param = True){\r\n		$this->data[\'PedidoAbertoFechado\'] = $this->Pedidos->getQtdAbertoFechado();\r\n		if($param === True)\r\n			print_r(json_encode($this->data[\'PedidoAbertoFechado\']));\r\n	}'),(4,1,'_example_output','	public function _example_output($output = null)\r\n	{\r\n		$output = array_merge($this->data,(array)$output);\r\n		$this->load->view(\'restrito/admin.php\',$output);\r\n	}'),(5,1,'index','	public function index()\r\n	{\r\n		$this->data[\'main_page\'] = \'isset\';\r\n		$this->data[\'estoques\'] = $this->Generico->getEstoque();\r\n		$this->data[\'afazeres\'] = $this->Generico->getAFazer();\r\n		$this->data[\'PedidosSolicitados\'] = $this->Generico->getPedidoSolicitados();\r\n		$this->_example_output((object)array(\'output\' => \'\' , \'js_files\' => array() , \'css_files\' => array()));\r\n	}'),(6,1,'cliente_unique','	public function cliente_unique($id_cliente = \'\')\r\n	{\r\n		$this->data[\'navigation_back\'] = \"<a href=\'\".base_url(__CLASS__.\"/pedidos\").\"\'>Voltar ao Pedido</a>\";\r\n\r\n		$crud = new grocery_CRUD();\r\n \r\n		$crud->set_table(\'tbl_cliente\');\r\n		if (!empty($id_cliente)){\r\n			$crud->where(\'tbl_cliente.id_cliente\',$id_cliente);\r\n		}\r\n		$crud->set_subject(\'Cadastro de Cliente\');\r\n		$crud->columns(\'nome\',\'email\',\'endereco\',\'tipo\');\r\n		$crud->fields(\'id_cliente\',\'nome\',\'cpf_cnpj\',\'email\',\'senha\',\'telefone\',\'endereco\',\'numero\',\'bairro\',                     \r\n					  \'complemento\',\'situacao\',\'tipo\',\'ganho_unitario\',\'ativo\');\r\n		\r\n		$crud->display_as(\'nome\',\'Nome\');\r\n		$crud->display_as(\'email\',\'E-mail\');\r\n		$crud->display_as(\'cpf_cnpj\',\'CPF/CNPJ\');\r\n		$crud->display_as(\'senha\',\'Senha\');\r\n		$crud->display_as(\'telefone\',\'Telefone\');\r\n		$crud->display_as(\'endereco\',\'Endereco\');\r\n		$crud->display_as(\'numero\',\'N°\');\r\n		$crud->display_as(\'bairro\',\'Bairro\');\r\n		$crud->display_as(\'complemento\',\'Complemento\');\r\n		$crud->display_as(\'situacao\',\'Situação\');\r\n		$crud->display_as(\'tipo\',\'Tipo\');\r\n		$crud->display_as(\'ganho_unitario\',\'Ganho %\');\r\n		$crud->display_as(\'ativo\',\'Ativo\');\r\n\r\n		$crud->field_type(\'situacao\',\'dropdown\', array(\'a\' => \'Ativo\', \'d\' => \'Desativado\'));\r\n		$crud->field_type(\'tipo\',\'dropdown\', array(\'c\' => \'Cliente\', \'r\' => \'Revendedor\', \'s\' => \'Representante\', \'p\' => \'Parceiro\'));\r\n		$crud->field_type(\'ativo\',\'dropdown\', array(\'1\' => \'True\', \'0\' => \'False\'));\r\n		 \r\n		$output = $crud->render();\r\n\r\n		$this->_example_output($output);\r\n	}'),(7,1,'clientes','	public function clientes()\r\n	{\r\n		$crud = new grocery_CRUD();\r\n \r\n		$crud->set_table(\'tbl_cliente\');\r\n		$crud->set_subject(\'Cadastro de Cliente\');\r\n		$crud->columns(\'nome\',\'email\',\'endereco\',\'tipo\');\r\n		$crud->fields(\'id_cliente\',\'nome\',\'cpf_cnpj\',\'email\',\'senha\',\'telefone\',\'endereco\',\'numero\',\'bairro\',                     \r\n					  \'complemento\',\'situacao\',\'tipo\',\'ganho_unitario\',\'ativo\');\r\n		\r\n		$crud->display_as(\'nome\',\'Nome\');\r\n		$crud->display_as(\'email\',\'E-mail\');\r\n		$crud->display_as(\'cpf_cnpj\',\'CPF/CNPJ\');\r\n		$crud->display_as(\'senha\',\'Senha\');\r\n		$crud->display_as(\'telefone\',\'Telefone\');\r\n		$crud->display_as(\'endereco\',\'Endereco\');\r\n		$crud->display_as(\'numero\',\'N°\');\r\n		$crud->display_as(\'bairro\',\'Bairro\');\r\n		$crud->display_as(\'complemento\',\'Complemento\');\r\n		$crud->display_as(\'situacao\',\'Situação\');\r\n		$crud->display_as(\'tipo\',\'Tipo\');\r\n		$crud->display_as(\'ganho_unitario\',\'Ganho %\');\r\n		$crud->display_as(\'ativo\',\'Ativo\');\r\n\r\n		$crud->field_type(\'situacao\',\'dropdown\', array(\'a\' => \'Ativo\', \'d\' => \'Desativado\'));\r\n		$crud->field_type(\'tipo\',\'dropdown\', array(\'c\' => \'Cliente\', \'r\' => \'Revendedor\', \'s\' => \'Representante\', \'p\' => \'Parceiro\'));\r\n		$crud->field_type(\'ativo\',\'dropdown\', array(\'1\' => \'True\', \'0\' => \'False\'));\r\n		 \r\n		$output = $crud->render();\r\n\r\n		$this->_example_output($output);\r\n	}'),(8,1,'cidades','	public function cidades()\r\n	{\r\n		$crud = new grocery_CRUD();\r\n \r\n		$crud->set_table(\'tbl_cidade\');\r\n		$crud->set_subject(\'Cadastro de Cidade\');\r\n		$crud->columns(\'nome\',\'uf\',\'link\');\r\n		$crud->fields(\'id_cidade\',\'nome\',\'uf\',\'link\');\r\n		\r\n		$crud->display_as(\'nome\',\'Nome da Cidade\');\r\n		$crud->display_as(\'uf\',\'UF\');\r\n		$crud->display_as(\'link\',\'Link\');\r\n\r\n		$crud->field_type(\'uf\',\'dropdown\', array(\'AC\' => \'Acre\', \'AL\' => \'Alagoas\', \'AP\' => \'Amapá\',\r\n												 \'AM\' => \'Amazonas\', \'BA\' => \'Bahia\', \'CE\' => \'Ceará\',\r\n												 \'DF\' => \'Distrito Federal\', \'ES\' => \'Espírito Santo\',\r\n												 \'GO\' => \'Goiás\', \'MA\' => \'Maranhão\', \'MT\' => \'Mato Grosso\',\r\n												 \'MS\' => \'Mato Grosso do Sul\', \'MG\' => \'Minas Gerais\',\r\n												 \'PA\' => \'Pará\', \'PB\' => \'Paraíba\', \'PR\' => \'Paraná\',\r\n												 \'PE\' => \'Pernambuco\', \'PI\' => \'Piauí\', \'RJ\' => \'Rio de Janeiro\',\r\n												 \'RN\' => \'Rio Grande do Norte\', \'RS\' => \'Rio Grande do Sul\',\r\n												 \'RO\' => \'Rondônia\', \'RR\' => \'Roraima\', \'SC\' => \'Santa Catarina\',\r\n												 \'SP\' => \'São Paulo\', \'SE\' => \'Sergipe\', \'TO\' => \'Tocantins\'));\r\n	 \r\n		$output = $crud->render();\r\n		 \r\n		$this->_example_output($output);\r\n	}'),(9,1,'fornecedores','	public function fornecedores()\r\n	{\r\n		$crud = new grocery_CRUD();\r\n \r\n		$crud->set_table(\'tbl_fornecedor\');\r\n		$crud->set_subject(\'Cadastro de Fornecedor\');\r\n		$crud->columns(\'nome\',\'telefone\',\'situacao\');\r\n		$crud->fields(\'id_fornecedor\',\'nome\',\'telefone\',\'situacao\');\r\n		\r\n		$crud->display_as(\'nome\',\'Nome Fornecedor\');\r\n		$crud->display_as(\'telefone\',\'Telefone\');\r\n		$crud->display_as(\'situacao\',\'Situação\');\r\n	 \r\n	 	$crud->field_type(\'situacao\',\'dropdown\', array(\'a\' => \'Ativo\', \'d\' => \'Desativado\'));\r\n\r\n		$output = $crud->render();\r\n		 \r\n		$this->_example_output($output);\r\n	}'),(10,1,'tipos','	public function tipos()\r\n	{\r\n		$crud = new grocery_CRUD();\r\n \r\n		$crud->set_table(\'tbl_tipo\');\r\n		$crud->set_subject(\'Cadastro de Tipo\');\r\n		$crud->columns(\'id_tipo\',\'campo\',\'tipo\',\'descricao\');\r\n		$crud->fields(\'campo\',\'tipo\',\'descricao\');\r\n		\r\n		$crud->display_as(\'campo\',\'Nome do Campo\');\r\n		$crud->display_as(\'tipo\',\'Tipo\');\r\n		$crud->display_as(\'descricao\',\'Descrição\');\r\n	 	\r\n		$output = $crud->render();\r\n		 \r\n		$this->_example_output($output);\r\n	}'),(11,1,'categorias','	public function categorias()\r\n	{\r\n		$crud = new grocery_CRUD();\r\n \r\n		$crud->set_table(\'tbl_categoria_produto\');\r\n		$crud->set_subject(\'Cadastro da Categoria do Produto\');\r\n		$crud->columns(\'nome\',\'situacao\');\r\n		$crud->fields(\'id_categoria_produto\',\'nome\',\'situacao\');\r\n		\r\n		$crud->display_as(\'Nome\',\'Nome da Categoria\');\r\n		$crud->display_as(\'situacao\',\'Situação\');\r\n	 	\r\n	 	$crud->field_type(\'situacao\',\'dropdown\', array(\'a\' => \'Ativo\', \'d\' => \'Desativado\'));\r\n\r\n		$output = $crud->render();\r\n		 \r\n		$this->_example_output($output);\r\n	}'),(12,1,'produtos','	public function produtos()\r\n	{\r\n		$crud = new grocery_CRUD();\r\n \r\n		$crud->set_table(\'tbl_produto\');\r\n		$crud->set_subject(\'Cadastro de Produto\');\r\n		$crud->columns(\'nome\',\'situacao\');\r\n		$crud->fields(\'id_produto\',\'nome\',\'situacao\',\'imagem\');\r\n		\r\n		$crud->display_as(\'nome\',\'Nome do Produto\');\r\n		$crud->display_as(\'situacao\',\'Situação\');\r\n	 	\r\n	 	$crud->field_type(\'situacao\',\'dropdown\', array(\'a\' => \'Ativo\', \'d\' => \'Desativado\'));\r\n	 	\r\n	 	$crud->add_action(\'Valores\', \'\', __CLASS__.\'/valores\', \'ui-icon-plus\');\r\n\r\n		$output = $crud->render();\r\n		 \r\n		$this->_example_output($output);\r\n	}'),(13,1,'valores','	public function valores($id_produto)\r\n	{\r\n		$this->data[\'navigation_back\'] = \"<a href=\'\".base_url(__CLASS__.\"/produtos\").\"\'>Voltar ao Produto</a>\";\r\n\r\n		$crud = new grocery_CRUD();\r\n \r\n		$crud->set_table(\'tbl_valor_produto\');\r\n		$crud->where(\'tbl_valor_produto.id_produto\', $id_produto);\r\n		$crud->set_subject(\'Cadastro de Valor do Produto\');\r\n		$crud->columns(\'id_produto\',\'id_categoria_produto\', \'data_atualizacao\',\'preco\', \'tipo_cliente\');\r\n		$crud->fields(\'id_valor_produto\',\'id_produto\',\'id_categoria_produto\', \'data_atualizacao\',\'preco\', \'tipo_cliente\');\r\n		\r\n		$crud->display_as(\'id_produto\',\'Nome do Produto\');\r\n		$crud->display_as(\'id_categoria_produto\',\'Categoria\');\r\n		$crud->display_as(\'data_atualizacao\',\'Data Atualização\');\r\n		$crud->display_as(\'preco\',\'Preço\');\r\n\r\n	 	$crud->set_relation(\'id_produto\',\'tbl_produto\',\'nome\');\r\n	 	$crud->set_relation(\'id_categoria_produto\',\'tbl_categoria_produto\',\'nome\', array(\'situacao\' => \'a\'));\r\n\r\n	 	$crud->field_type(\'tipo_cliente\',\'dropdown\', array(\'c\' => \'Cliente\', \'r\' => \'Revendedor\', \'s\' => \'Representante\', \'p\' => \'Parceiro\'));\r\n\r\n		$output = $crud->render();\r\n		 \r\n		$this->_example_output($output);\r\n	}'),(14,1,'pedidos','	public function pedidos()\r\n	{\r\n		$crud = new grocery_CRUD();\r\n \r\n		$crud->set_table(\'tbl_pedido\');\r\n		$crud->where(\'tbl_pedido.situacao <>\', \'e\');\r\n		$crud->order_by(\"data_entrega\", \"desc\");\r\n		$crud->set_subject(\'Cadastro de Valor do Produto\');\r\n		$crud->columns(\'id_cliente\',\'data_pedido\',\'data_entrega\',\'situacao\');\r\n		$crud->fields(\'id_pedido\',\'id_cliente\',\'id_cidade\',\'data_pedido\',\'valor\',\'valor_total\',\'situacao\',\'forma_pgto\',\'forma_entrega\',\r\n					  \'taxa_entrega\',\'data_entrega\',\'hora_entrega\',\'end_entrega\',\'num_entrega\',\'bairro_entrega\',\'comp_entrega\',\'data_pagamento\');\r\n		\r\n		$crud->display_as(\'id_cliente\',\'Nome do Cliente\');\r\n		$crud->display_as(\'id_cidade\',\'Cidade\');\r\n		$crud->display_as(\'data_pedido\',\'Data do Pedido\');\r\n		$crud->display_as(\'valor\',\'Valor\');\r\n		$crud->display_as(\'valor_total\',\'Valor Total\');\r\n		$crud->display_as(\'situacao\',\'Situação\');\r\n		$crud->display_as(\'forma_pgto\',\'Forma Pgto\');\r\n		$crud->display_as(\'forma_entrega\',\'Forma Entrega\');\r\n		$crud->display_as(\'taxa_entrega\',\'Taxa de Entrega\');\r\n		$crud->display_as(\'data_entrega\',\'Data da Entrega\');\r\n		$crud->display_as(\'hora_entrega\',\'Hora de Entrega\');\r\n		$crud->display_as(\'end_entrega\',\'Novo Endereço\');\r\n		$crud->display_as(\'num_entrega\',\'N°\');\r\n		$crud->display_as(\'bairro_entrega\',\'Bairro\');\r\n		$crud->display_as(\'comp_entrega\',\'Complemento\');\r\n		$crud->display_as(\'data_pagamento\',\'Data Pagamento\');\r\n\r\n		$crud->field_type(\'situacao\',\'dropdown\', array(\'s\' => \'Solicitação\', \'v\' => \'Visualizado\', \'p\' => \'Produzindo\', \'t\' => \'Saiu p/ entregar\', \'e\' => \'Entregue\', \'c\' => \'Cancelado\'));\r\n		$crud->field_type(\'forma_pgto\',\'dropdown\', array(\'d\' => \'Dinheiro\', \'cd\' => \'Cartão Débito\', \'cc\' => \'Cartão Crédito\'));\r\n		$crud->field_type(\'forma_entrega\',\'dropdown\', array(\'r\' => \'Retirar\', \'e\' => \'Entregar\'));\r\n\r\n	 	$crud->set_relation(\'id_cliente\',\'tbl_cliente\',\'nome\');\r\n	 	$crud->set_relation(\'id_cidade\',\'tbl_cidade\',\'nome\');\r\n\r\n	 	$crud->add_action(\'Itens do Pedido\', \'\', __CLASS__.\'/itemPedido\', \'ui-icon-plus\');\r\n	 	$crud->add_action(\'Cliente Pedido\', \'\', \'\', \'ui-icon-plus\', array($this,\'ClientePedido\'));\r\n\r\n		$output = $crud->render();\r\n		 \r\n		$this->_example_output($output);\r\n	}'),(15,1,'ClientePedido','	public function ClientePedido($primary_key , $row)\r\n	{\r\n		return site_url(__CLASS__.\"/cliente_unique/$row->id_cliente\");\r\n	}'),(16,1,'itemPedido','	public function itemPedido($id_pedido)\r\n	{\r\n		$this->data[\'navigation_back\'] = \"<a href=\'\".base_url(__CLASS__.\"/pedidos\").\"\'>Voltar ao Pedido</a>\";\r\n\r\n		$crud = new grocery_CRUD();\r\n \r\n		$crud->set_table(\'tbl_item_pedido\');\r\n		$crud->where(\'tbl_item_pedido.id_pedido\', $id_pedido);\r\n		$crud->set_subject(\'Item Pedido\');\r\n		$crud->columns(\'id_pedido\',\'id_produto\',\'qtde\');\r\n		$crud->fields(\'id_item_pedido\',\'id_pedido\',\'id_produto\',\'qtde\', \'valor_unitario\');\r\n		\r\n		$crud->display_as(\'id_pedido\',\'Id do Pedido\');\r\n		$crud->display_as(\'id_produto\',\'Produto\');\r\n		$crud->display_as(\'qtde\',\'Qntde\');\r\n\r\n		$crud->set_relation(\'id_produto\',\'tbl_produto\',\'nome\');\r\n\r\n		$output = $crud->render();\r\n		 \r\n		$this->_example_output($output);\r\n	}'),(17,1,'lojas','	public function lojas(){\r\n		$crud = new grocery_CRUD();\r\n \r\n		$crud->set_table(\'tbl_loja\');\r\n		$crud->set_subject(\'Loja\');\r\n		$crud->columns(\'id_loja\',\'nome_proprietario\',\'razao_social\',\'nome_fantasia\');\r\n		$crud->fields(\'id_loja\',\'nome_proprietario\',\'cpf\',\'razao_social\',\'nome_fantasia\',\'cnpj\',\'nr_inscricao_muni\',\'cnae\',\'data_nascimento\',\'data_abertura\',\'endereco\',\'numero\',\'complemento\',\'bairro\',\'cep\',\'municipio\',\'uf\');\r\n		\r\n		$crud->display_as(\'nome_proprietario\',\'Nome do Proprietário\');\r\n		$crud->display_as(\'cpf\',\'CPF\');\r\n		$crud->display_as(\'razao_social\',\'Razão Social\');\r\n		$crud->display_as(\'nome_fantasia\',\'Nome Fantasia\');\r\n		$crud->display_as(\'cnpj\',\'CNPJ\');\r\n		$crud->display_as(\'nr_inscricao_muni\',\'Insc. Municipal\');\r\n		$crud->display_as(\'cnae\',\'CNAE\');\r\n		$crud->display_as(\'data_nascimento\',\'Data Nascimento\');\r\n		$crud->display_as(\'data_abertura\',\'Data de Abertura\');\r\n		$crud->display_as(\'endereco\',\'Endereço\');\r\n		$crud->display_as(\'numero\',\'N°\');\r\n		$crud->display_as(\'complemento\',\'Compl.\');\r\n		$crud->display_as(\'bairro\',\'Bairro\');\r\n		$crud->display_as(\'cep\',\'CEP\');\r\n		$crud->display_as(\'municipio\',\'Municipio\');\r\n		$crud->display_as(\'uf\',\'UF\');\r\n\r\n		$output = $crud->render();\r\n		 \r\n		$this->_example_output($output);\r\n	}'),(18,1,'arquivo_controller','	public function arquivo_controller(){\r\n		$crud = new grocery_CRUD();\r\n \r\n		$crud->set_table(\'tbl_arquivo_controller\');\r\n		$crud->set_subject(\'Arquivo Controller\');\r\n		$crud->columns(\'nome_controller\',\'diretorio\');\r\n		$crud->fields(\'nome_controller\',\'diretorio\');\r\n		\r\n		$crud->display_as(\'arquivo_controller_id\',\'Id Controller\');\r\n		$crud->display_as(\'nome_controller\',\'Nome da Controller\');\r\n		$crud->display_as(\'diretorio\',\'Diretório\');\r\n\r\n		$crud->required_fields(\'nome_controller\');\r\n\r\n	 	$crud->add_action(\'Funções\', \'\', __CLASS__.\'/funcoes\', \'ui-icon-plus\');\r\n	 	$crud->add_action(\'Gerar Controller\', \'\', __CLASS__.\'/gerar_controller\', \'ui-icon-plus\');\r\n\r\n		$output = $crud->render();\r\n		 \r\n		$this->_example_output($output);\r\n	}'),(19,1,'funcoes','	public function funcoes($arquivo_controller_id){\r\n		$this->data[\'navigation_back\'] = \"<a href=\'\".base_url(__CLASS__.\"/arquivo_controller\").\"\'>Voltar ao Arq. Controller</a>\";\r\n\r\n		$crud = new grocery_CRUD();\r\n \r\n		$crud->set_table(\'tbl_function_controller\');\r\n		$crud->where(\'tbl_function_controller.arquivo_controller_id\', $arquivo_controller_id);\r\n		$crud->set_subject(\'Funções da Controller (\' . $arquivo_controller_id . \')\');\r\n		$crud->columns(\'nome_function\');\r\n		$crud->fields(\'arquivo_controller_id\',\'nome_function\',\'funcao\');\r\n		\r\n		$crud->display_as(\'arquivo_controller_id\',\'Id Controller\');\r\n		$crud->display_as(\'nome_function\',\'Nome da Function\');\r\n		$crud->display_as(\'funcao\',\'Função\');\r\n\r\n		$crud->required_fields(\'nome_function\',\'funcao\');\r\n\r\n		$crud->field_type(\'arquivo_controller_id\', \'hidden\', $arquivo_controller_id);\r\n\r\n		$crud->unset_texteditor(\'funcao\');		\r\n\r\n		$output = $crud->render();\r\n		 \r\n		$this->_example_output($output);\r\n	}'),(20,1,'gerar_controller','	public function gerar_controller($arquivo_controller_id)\r\n	{\r\n		$this->data[\'navigation_back\'] = \"<a href=\'\".base_url(__CLASS__.\"/arquivo_controller\").\"\'>Voltar ao Arq. Controller</a>\";\r\n\r\n		$controller = $this->Generico->getArquivoController($arquivo_controller_id);\r\n		$functions = $this->Generico->getFunctionByIdController($arquivo_controller_id);\r\n\r\n		$data = \r\n			\"<?php if ( ! defined(\'BASEPATH\')) exit(\'No direct script access allowed\');\\nclass $controller->nome_controller extends CI_Controller {\\n\";\r\n		foreach ($functions as $funcao) {\r\n			$data .= $funcao[\'funcao\'].\"\\n\\n\";\r\n		}\r\n		$data .= \'}\';\r\n\r\n		if (is_null($controller->diretorio)){\r\n			$dir_controller = FCPATH.\"/application/controllers/{$controller->nome_controller}.php\";\r\n		} else {\r\n			$dir_controller = FCPATH.\"/application/controllers/{$controller->diretorio}/{$controller->nome_controller}.php\";\r\n		}\r\n\r\n		if (write_file($dir_controller, $data) == FALSE)\r\n		{\r\n			$this->data[\'msg_file_create\'] = \'Unable to write the file\';\r\n		} else {\r\n			$this->data[\'msg_file_create\'] = \'File written!\';                           \r\n		}\r\n\r\n		$this->_example_output((object)array(\'output\' => \'\' , \'js_files\' => array() , \'css_files\' => array()));\r\n	}'),(21,1,'menu','	public function menu()\r\n	{\r\n		$crud = new grocery_CRUD();\r\n \r\n		$crud->set_table(\'tbl_menu\');\r\n		$crud->set_subject(\'Cadastro de Menu\');\r\n		$crud->columns(\'nome_menu\',\'menu_titulo\', \'order\', \'ativo\');\r\n		$crud->fields(\'nome_menu\',\'menu_titulo\',\'tag_i\', \'order\', \'ativo\');\r\n		\r\n		$crud->display_as(\'menu_id\',\'Id Menu\');\r\n		$crud->display_as(\'nome_menu\',\'Nome do Menu\');\r\n		$crud->display_as(\'menu_titulo\',\'Titulo\');\r\n		$crud->display_as(\'tag_i\',\'Tag Img\');\r\n		$crud->display_as(\'order\',\'N° Ordenação\');\r\n		$crud->display_as(\'ativo\',\'Ativo\');\r\n\r\n		$crud->field_type(\'ativo\',\'dropdown\', array(\'a\' => \'Ativado\', \'d\' => \'Desativado\'));\r\n\r\n		$crud->order_by(\'order\',\'asc\');\r\n\r\n		$crud->required_fields(\'nome_menu\');\r\n\r\n	 	$crud->add_action(\'Sub Menu\', \'\', __CLASS__.\'/submenu\', \'ui-icon-plus\');\r\n\r\n		$output = $crud->render();\r\n		 \r\n		$this->_example_output($output);\r\n	}'),(22,1,'submenu','	public function submenu($menu_id)\r\n	{\r\n		$this->data[\'navigation_back\'] = \"<a href=\'\".base_url(__CLASS__.\"/menu\").\"\'>Voltar ao Menu</a>\";\r\n\r\n		$crud = new grocery_CRUD();\r\n		$crud->set_table(\'tbl_submenu\');\r\n		$crud->where(\'tbl_submenu.menu_id\', $menu_id);\r\n		$crud->set_subject(\'Cadastro do Sub Menu\');\r\n		$crud->columns(\'menu_id\',\'nome_submenu\',\'arquivo_controller_id\', \'function_controller_id\',\'order\', \'ativo\');\r\n		$crud->fields(\'menu_id\',\'nome_submenu\',\'arquivo_controller_id\', \'function_controller_id\',\'order\', \'ativo\');\r\n		\r\n		$crud->display_as(\'submenu_id\',\'Id Sub Menu\');\r\n		$crud->display_as(\'menu_id\',\'Menu\');\r\n		$crud->display_as(\'nome_submenu\',\'Nome Sub Menu\');\r\n		$crud->display_as(\'arquivo_controller_id\',\'Nome Controller\');\r\n		$crud->display_as(\'function_controller_id\',\'Nome Function\');\r\n		$crud->display_as(\'order\',\'N° Ordenação\');\r\n		$crud->display_as(\'ativo\',\'Ativo\');\r\n\r\n		\r\n		$crud->set_relation(\'arquivo_controller_id\', \'tbl_arquivo_controller\', \'nome_controller\');\r\n		$crud->set_relation(\'function_controller_id\', \'tbl_function_controller\', \'nome_function\');\r\n\r\n		$crud->field_type(\'ativo\',\'dropdown\', array(\'a\' => \'Ativado\', \'d\' => \'Desativado\'));\r\n		$crud->field_type(\'menu_id\', \'hidden\', $menu_id);\r\n\r\n		$crud->required_fields(\'nome_submenu\',\'arquivo_controller_id\',\'function_controller_id\');\r\n\r\n		$this->load->library(\'gc_dependent_select\');\r\n\r\n		$fields = array(\r\n			// first field:\r\n			\'arquivo_controller_id\' => array( // first dropdown name\r\n			\'table_name\' => \'tbl_arquivo_controller\', // table of country\r\n			\'title\' => \'nome_controller\', // country title\r\n			\'relate\' => null // the first dropdown hasn\'t a relation\r\n			),\r\n			// second field\r\n			\'function_controller_id\' => array( // second dropdown name\r\n			\'table_name\' => \'tbl_function_controller\', // table of state\r\n			\'title\' => \'nome_function\', // state title\r\n			\'id_field\' => \'function_controller_id\', // table of state: primary key\r\n			\'relate\' => \'arquivo_controller_id\', // table of state:\r\n			\'data-placeholder\' => \'selecionar function\' //dropdown\'s data-placeholder:\r\n			)\r\n		);\r\n\r\n		$config = array(\r\n			\'main_table\' => \'tbl_submenu\',\r\n			\'main_table_primary\' => \'submenu_id\',\r\n			\"url\" => base_url() . \'index.php/\' . __CLASS__ . \'/\', //	.$id.\'/add\' //path to method\r\n			\'ajax_loader\' => base_url() . \'ajax-loader.gif\', // path to ajax-loader image. It\'s an optional parameter\r\n			\'segment_name\' =>\'get_functionByIdController\' // It\'s an optional parameter. by default \"get_items\"\r\n		);\r\n\r\n		$mult = new gc_dependent_select($crud, $fields, $config);\r\n\r\n		// the second method:\r\n		$js = $mult->get_js();\r\n\r\n		$output = $crud->render();\r\n\r\n		$output->output.= $js;\r\n		 \r\n		$this->_example_output($output);\r\n	}'),(23,1,'get_functionByIdController','	public function get_functionByIdController($id){\r\n		$functions = $this->Generico->getFunctionByIdController($id);\r\n		\r\n		$arr = array();\r\n		foreach ($functions as $item) {\r\n			array_push($arr, array(\'value\' => $item[\'function_controller_id\'], \'property\' => $item[\'nome_function\']));\r\n		}\r\n		\r\n		echo json_encode($arr);\r\n	}'),(24,1,'estoque','	public function estoque(){\r\n		$crud = new grocery_CRUD();\r\n \r\n		$crud->set_table(\'tbl_estoque\');\r\n		$crud->set_subject(\'Consulta de Estoque\');\r\n		$crud->columns(\'id_loja\',\'id_produto\', \'qtde_minima\', \'qtde_total\');\r\n		$crud->edit_fields(\'qtde_minima\');\r\n		\r\n		$crud->display_as(\'id_loja\',\'Loja\');\r\n		$crud->display_as(\'id_produto\',\'Produto\');\r\n		$crud->display_as(\'qtde_minima\',\'Qtde Estoque Minimo\');\r\n		$crud->display_as(\'qtde_total\',\'Qtde Disponível\');\r\n\r\n		$crud->set_relation(\'id_loja\', \'tbl_loja\', \'nome_fantasia\');\r\n		$crud->set_relation(\'id_produto\', \'tbl_produto\', \'nome\');\r\n\r\n		$crud->field_type(\'tipo_movimentacao\',\'dropdown\', array(\'e\' => \'Entrada\', \'s\' => \'Saída\', \'a\' => \'Ajuste\', \'t\' => \'Transferência\'));\r\n\r\n		$crud->unset_add();\r\n		$crud->unset_delete();\r\n\r\n		$crud->required_fields(\'id_loja\',\'id_produto\', \'movimentacao\', \'qtde_minima\', \'qtde_movimento\');\r\n\r\n		$output = $crud->render();\r\n		 \r\n		$this->_example_output($output);\r\n	}'),(25,1,'movimentacao_estoque','	public function movimentacao_estoque(){\r\n		$crud = new grocery_CRUD();\r\n \r\n		$crud->set_table(\'tbl_movimentacao_estoque\');\r\n		$crud->set_subject(\'Movimentação de Estoque\');\r\n		$crud->columns(\'id_loja\', \'id_produto\', \'tipo_movimentacao\', \'qtde_movimentacao\', \'data_movimentacao\', \'id_item_pedido\');\r\n		$crud->fields(\'id_loja\', \'id_produto\', \'tipo_movimentacao\', \'qtde_movimentacao\', \'data_movimentacao\');\r\n		\r\n		$crud->display_as(\'id_loja\',\'Loja\');\r\n		$crud->display_as(\'id_produto\',\'Produto\');\r\n		$crud->display_as(\'tipo_movimentacao\',\'Movimentação de\');\r\n		$crud->display_as(\'qtde_movimentacao\',\'Qtde Movimentação\');\r\n		$crud->display_as(\'data_movimentacao\',\'Data Movimentação\');\r\n		$crud->display_as(\'id_item_pedido\',\'Id Item Pedido\');\r\n\r\n		$crud->set_relation(\'id_loja\', \'tbl_loja\', \'nome_fantasia\');\r\n		$crud->set_relation(\'id_produto\', \'tbl_produto\', \'nome\');\r\n\r\n		$crud->field_type(\'tipo_movimentacao\',\'dropdown\', array(\'e\' => \'Entrada\', \'s\' => \'Saída\', \'a\' => \'Ajuste\', \'t\' => \'Transferência\', \'c\' => \'Cancelado\'));\r\n		$crud->field_type(\'data_movimentacao\',\'hidden\', date(\"Y-m-d H:i:s\"));\r\n		\r\n		$crud->required_fields(\'id_loja\', \'id_produto\', \'tipo_movimentacao\', \'qtde_movimentacao\');\r\n\r\n		$crud->unset_delete();\r\n		$crud->unset_edit();\r\n\r\n		$crud->callback_after_insert(array($this, \'after_insert_update_mov_estoque\'));\r\n		$crud->callback_after_update(array($this, \'after_insert_update_mov_estoque\'));\r\n\r\n		$output = $crud->render();\r\n \r\n		$this->_example_output($output);\r\n	}'),(26,1,'after_insert_update_mov_estoque','	public function after_insert_update_mov_estoque($post_array,$primary_key){\r\n		$this->Generico->geraEstoque($post_array[\'id_loja\'], $post_array[\'id_produto\'], $post_array[\'tipo_movimentacao\'], $post_array[\'qtde_movimentacao\']);\r\n		$this->Generico->geraFichaKardex($post_array[\'id_loja\'], $post_array[\'id_produto\'], $post_array[\'tipo_movimentacao\'], \'me\', $post_array[\'qtde_movimentacao\']);\r\n	}'),(27,1,'ficha_kardex','	public function ficha_kardex(){\r\n		$crud = new grocery_CRUD();\r\n \r\n		$crud->set_table(\'tbl_ficha_kardex\');\r\n		$crud->set_subject(\'Ficha Kardex\');\r\n		$crud->columns(\'id_ficha_kerdex\', \'id_loja\', \'id_produto\', \'tipo_movimentacao\', \'origem_movimentacao\', \'qtde_movimentacao\', \'data_movimentacao\');\r\n		$crud->fields(\'id_ficha_kerdex\',\'id_loja\', \'id_produto\', \'tipo_movimentacao\', \'origem_movimentacao\', \'qtde_movimentacao\', \'data_movimentacao\');\r\n		\r\n		$crud->display_as(\'id_loja\',\'Loja\');\r\n		$crud->display_as(\'id_produto\',\'Produto\');\r\n		$crud->display_as(\'origem_movimentacao\',\'Origem da Movimentação\');\r\n		$crud->display_as(\'tipo_movimentacao\',\'Movimentação de\');\r\n		$crud->display_as(\'qtde_movimentacao\',\'Qtde Movimentação\');\r\n		$crud->display_as(\'data_movimentacao\',\'Data Movimentação\');\r\n\r\n		$crud->set_relation(\'id_loja\', \'tbl_loja\', \'nome_fantasia\');\r\n		$crud->set_relation(\'id_produto\', \'tbl_produto\', \'nome\');\r\n\r\n		$crud->field_type(\'tipo_movimentacao\',\'dropdown\', array(\'e\' => \'Entrada\', \'s\' => \'Saída\', \'a\' => \'Ajuste\', \'t\' => \'Transferência\', \'c\' => \'Cancelado\'));\r\n		$crud->field_type(\'origem_movimentacao\',\'dropdown\', array(\'me\' => \'Movimentação Estoque\', \'nfs\' => \'Nf Saída\', \'nfe\' => \'Nf Entrada\', \'ps\' => \'Pedido no Site\'));\r\n\r\n		$crud->unset_delete();\r\n		$crud->unset_edit();\r\n		$crud->unset_add();\r\n\r\n		$output = $crud->render();\r\n \r\n		$this->_example_output($output);\r\n	}'),(28,1,'postMoviEstoque','	public function postMoviEstoque(){\r\n		if($_POST){\r\n			$this->Generico->gerarMovimentacao($_POST[\'id_loja\'], $_POST[\'id_produto\'], $_POST[\'tipo_movimentacao\'], $_POST[\'qtde_movimentacao\']);\r\n			redirect(__CLASS__.\'/index\');\r\n		}\r\n	}'),(29,1,'afazer','	public function afazer(){\r\n		$crud = new grocery_CRUD();\r\n \r\n		$crud->set_table(\'tbl_afazer\');\r\n		$crud->set_subject(\'A Fazer\');\r\n		$crud->columns(\'id_afazer\', \'afazer\', \'dt_inicio\', \'dt_fim\', \'realizado\');\r\n		$crud->fields(\'afazer\', \'dt_inicio\', \'dt_fim\', \'realizado\');\r\n		\r\n		$crud->display_as(\'id_afazer\',\'Id A Fazer\');\r\n		$crud->display_as(\'afazer\',\'A Fazer\');\r\n		$crud->display_as(\'dt_inicio\',\'Data Inicio\');\r\n		$crud->display_as(\'dt_fim\',\'Data Fim\');\r\n		$crud->display_as(\'realizado\',\'Realizado\');\r\n\r\n		$crud->field_type(\'realizado\',\'dropdown\', array(\'s\' => \'Sim\', \'n\' => \'Não\'));\r\n\r\n		$crud->required_fields(\'afazer\', \'dt_inicio\', \'realizado\');\r\n\r\n		$output = $crud->render();\r\n \r\n		$this->_example_output($output);\r\n	}'),(30,1,'postAFazer','	public function postAFazer(){\r\n		if($_POST){\r\n			$this->Generico->AFazerRealizado($_POST[\'id_afazer\'], $_POST[\'realizado\']);\r\n			redirect(__CLASS__.\'/index\');\r\n		}\r\n	}'),(31,1,'postPedidoEntregue','	public function postPedidoEntregue(){\r\n		if($_POST){\r\n			$this->Generico->AlterarSituacaoPedido($_POST[\'id_pedido\'], \'e\');\r\n			redirect(__CLASS__.\'/index\');\r\n		}\r\n	}'),(32,1,'postCancelarPedido','	public function postCancelarPedido(){\r\n		if($_POST){\r\n			$pedido = $this->Generico->getPedidoSolicitados($_POST[\'id_pedido\']);\r\n			foreach ($pedido[0][\'itens\'] as $items) {\r\n				$this->Generico->gerarMovimentacao($pedido[0][\'id_cidade\'], $items[\'id_produto\'], \'c\', $items[\'qtde\'], $items[\'id_item_pedido\']);\r\n				$this->Generico->AlterarSituacaoPedido($_POST[\'id_pedido\'], \'c\');\r\n			}\r\n			redirect(__CLASS__.\'/index\');\r\n		}\r\n	}');

UNLOCK TABLES;

SET FOREIGN_KEY_CHECKS=1;